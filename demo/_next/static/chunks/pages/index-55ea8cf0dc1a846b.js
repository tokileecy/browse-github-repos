(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3843)}])},3843:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return ed}});var t=r(7568),i=r(828),o=r(9815),a=r(655),s=r(5893),l=r(7294),c=r(9008),u=r.n(c),d=r(8872),h=r(2317),p=(0,d.iv)({display:"inline-flex",width:"100%",alignItems:"center"}),f=(0,d.iv)({marginRight:"8px"}),m=(0,d.iv)({flexGrow:1,height:"2.375rem",border:0,paddingLeft:"8px",paddingRight:"8px",outline:"none",borderRadius:0,borderBottom:"solid 1px ".concat(h.Z.searchInputBorderColor)});function g(e){var n=e.label,r=e.value,t=e.onChange,i=e.placeholder;return(0,s.jsxs)("label",{className:p,children:[(0,s.jsx)("span",{className:f,children:void 0===n?"":n}),(0,s.jsx)("input",{className:m,placeholder:void 0===i?"":i,value:void 0===r?"":r,onChange:t})]})}var v=(0,d.iv)({display:"flex",flexDirection:"column",gap:"1.25rem",padding:0,margin:0,width:"100%"}),x=(0,l.forwardRef)(function(e,n){var r=e.children;return(0,s.jsx)("ul",{ref:n,className:v,children:r})}),b=new Intl.RelativeTimeFormat("en",{numeric:"auto",localeMatcher:"best fit"}),w=[{amount:60,name:"seconds"},{amount:60,name:"minutes"},{amount:24,name:"hours"},{amount:7,name:"days"},{amount:4.34524,name:"weeks"},{amount:12,name:"months"},{amount:Number.POSITIVE_INFINITY,name:"years"},],j=function(e){for(var n=(e.getTime()-new Date().getTime())/1e3,r=0;r<=w.length;r++){var t=w[r];if(Math.abs(n)<t.amount)return b.format(Math.round(n),t.name);n/=t.amount}},y=function(e){return e>999?"".concat((e/1e3).toPrecision(3),"k"):"".concat(e)},C=(0,d.iv)({backgroundColor:h.Z.topicBgColor,color:h.Z.topicTextColor,fontWeight:"bold",fontSize:"0.875rem",borderRadius:"2px",textAlign:"center",padding:"0.25rem 0.5rem",whiteSpace:"nowrap",textDecoration:"none","&:hover":{backgroundColor:h.Z.topicHoverBgColor,color:h.Z.topicTextHoverColor}});function N(e){var n=e.children;return(0,s.jsx)("a",{href:"https://github.com/topics/".concat(n),target:"_blank",rel:"noopener noreferrer",className:C,children:n})}var Z=(0,d.iv)({padding:"1.25rem 0.75rem",listStyle:"none",borderRadius:"0.25rem",border:"1px ".concat(h.Z.repoBorderColor," solid"),display:"flex",flexDirection:"column",gap:"0.375rem"}),S=(0,d.iv)({color:"#0969da",marginRight:"auto",textDecoration:"none",wordBreak:"break-all",":hover":{textDecoration:"underline"}}),R=(0,d.iv)({marginTop:"0.25rem",fontSize:"0.875rem",wordBreak:"break-word"}),k=(0,d.iv)({display:"inline-flex",flexWrap:"wrap",gap:"0.375rem"}),_=(0,d.iv)({flexGrow:1,flexWrap:"wrap",display:"inline-flex",alignItems:"flex-end",color:h.Z.textBodyLightColor,fontSize:"0.75rem",gap:"8px"});function B(e){var n=e.fullName,r=e.description,t=e.htmlUrl,i=e.stargazersCount,o=e.language,a=void 0===o?null:o,l=e.license,c=void 0===l?"":l,u=e.topics,d=void 0===u?[]:u,h=e.pushedAt,p=e.issue,f=h&&!isNaN(Date.parse(h));return f||console.warn("RepoListItem: prop pushedAt should be a date string."),(0,s.jsxs)("li",{className:Z,children:[(0,s.jsx)("a",{href:t,className:S,children:n}),r&&(0,s.jsx)("div",{className:R,children:r}),d.length>0&&(0,s.jsx)("div",{className:k,children:d.map(function(e,n){return(0,s.jsx)(N,{children:e},e+n)})}),(0,s.jsxs)("div",{className:_,children:[void 0!==i&&Number.isInteger(i)&&(0,s.jsxs)("span",{children:["☆",y(i)]}),a&&(0,s.jsx)("span",{children:a}),""!==c&&(0,s.jsx)("span",{children:"".concat(c," license")}),h&&f&&(0,s.jsx)("span",{children:"Updated ".concat(j(new Date(h)))}),void 0!==p&&Number.isInteger(p)&&(0,s.jsx)("span",{children:"".concat(y(p),"  issue").concat(p>1?"s":""," need help")})]})]})}var I=function(e){var n,r=null!==(n=null==e?void 0:e.spdx_id)&&void 0!==n?n:"";return"NOASSERTION"===r&&(r=""),r},T=r(1438),D=r(196),z=r(129),E=r.n(z),A=new function e(){var n=this;(0,T.Z)(this,e),this.listRepos=function(e){return n.apiInstance.get("/search/repositories",{headers:{"Content-Type":"application/vnd.github+json"},params:e})},this.jwt="",this.apiInstance=D.Z.create({baseURL:"https://api.github.com",timeout:1e4,paramsSerializer:function(e){return E().stringify(e)}})},L=r(2670),P=r(1799),F=r(9396),X=function(){return{ids:[],idToRepo:{},totalCount:0,page:-1}},M=r(7297);function O(){var e=(0,M.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  20% {\n    transform: translateX(-100%);\n  }\n\n  80% {\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"]);return O=function(){return e},e}var U=(0,d.F4)(O()),W=(0,d.iv)({position:"relative",backgroundColor:h.Z.skeletonBgColor,height:"1rem",listStyle:"none",borderRadius:"0.25rem",overflow:"hidden","::after":{content:'""',position:"absolute",backgroundColor:h.Z.skeletonBgColorLight,borderRadius:"0.25rem",animation:"".concat(U,"  2.5s linear infinite"),transform:"translateX(-100%)",width:"100%",height:"100%",zIndex:1}});function G(e){var n=e.width;return(0,s.jsx)("div",{className:(0,d.cx)(W,(0,d.iv)({width:void 0===n?"100%":n}))})}var H=(0,d.iv)({listStyle:"none",width:"100%",display:"flex",flexDirection:"column",gap:"1rem",visibility:"visible","&.hidden":{display:"none"}});function q(e){var n=e.hidden;return(0,s.jsxs)("li",{className:(0,d.cx)(H,{hidden:void 0!==n&&n}),children:[(0,s.jsx)(G,{width:"20%"}),(0,s.jsx)(G,{width:"100%"}),(0,s.jsx)(G,{width:"60%"}),(0,s.jsx)(G,{width:"30%"})]})}var K=(0,d.iv)({display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center",listStyle:"none"}),V=(0,d.iv)({fontSize:"0.875rem",color:h.Z.textBodyLightColor}),Y=(0,d.iv)({marginLeft:"8px",fontSize:"0.875rem",color:h.Z.textBodyLightColor,fontWeight:"bold"}),J=(0,d.iv)({width:"100%",textAlign:"left",padding:"0.75rem 1.75rem",color:h.Z.detailMessageColor,backgroundColor:h.Z.detailMessageBgColor,fontSize:"0.875rem",display:"none","&.show":{display:"initial"}}),Q=(0,d.iv)({width:"100px",height:"35px",borderRadius:"100px",fontWeight:"bold",fontSize:"0.875rem",cursor:"pointer",color:h.Z.btnColor,backgroundColor:h.Z.btnBgColor,border:"1px solid ".concat(h.Z.btnBorderborder),"&:hover":{backgroundColor:h.Z.btnHoverBgColor},"&:active":{backgroundColor:h.Z.btnActiveBgColor}});function $(e){var n=e.children,r=e.onClick;return(0,s.jsx)("button",{className:Q,onClick:r,children:n})}function ee(e){var n=e.error,r=e.onRetryClick,t=(0,l.useState)(!1),i=t[0],o=t[1];return(0,s.jsxs)("li",{className:K,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:V,children:"Something went wrong. Try reloading."}),(0,s.jsx)("a",{href:"",className:Y,onClick:function(e){e.preventDefault(),o(function(e){return!e})},children:"Show More ▼"})]}),(0,s.jsx)("div",{className:(0,d.cx)(J,{show:i}),children:n}),(0,s.jsx)($,{onClick:function(){o(!1),null==r||r()},children:"Retry"})]})}var en=(0,d.iv)({display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center",listStyle:"none",color:h.Z.textBodyLightColor});function er(e){var n=e.search;return(0,s.jsx)("li",{className:en,children:'We couldn’t find any repositories matching "'.concat(n,'"')})}var et=function(e){var n=new URL(window.location.toString());n.searchParams.set("q",e),window.history.pushState({},"",n)},ei=function(){var e=new URLSearchParams(window.location.search).get("q");return null!=e?e:""},eo=(0,d.iv)({padding:"0 2rem"}),ea=(0,d.iv)({minHeight:"100vh",padding:"4rem 0",flex:1,display:"flex",flexDirection:"column",alignItems:"center"}),es=(0,d.iv)({margin:0,marginBottom:"2rem",fontSize:"3.5rem",lineHeight:1.15,textAlign:"center"}),el=(0,d.iv)({display:"flex",flexDirection:"column",gap:"2rem",width:"100%"}),ec=(0,d.iv)({height:0,listStyle:"none"}),eu=(0,d.iv)({padding:0,margin:0}),ed=function(){var e,n,r,c,d,h,p,f,m,v,b,w,j,y,C,N,Z,S,R,k,_,T,z,E,M,O,U,W,G,H,K,V,Y,J=(e=(0,t.Z)(function(){var e,n,r,t,i=arguments;return(0,a.__generator)(this,function(a){for(n=Array(e=i.length),r=0;r<e;r++)n[r]=i[r];return et(Q),[2,(t=A).listRepos.apply(t,(0,o.Z)(n))]})}),c=(r=(0,l.useState)(X()))[0],d=r[1],p=(h=(0,l.useState)(null))[0],f=h[1],v=(m=(0,l.useState)(!1))[0],b=m[1],j=(w=(0,l.useState)(!1))[0],y=w[1],C=function(e){D.Z.isAxiosError(e)&&e.response?f(e.response.data.message):(0,L.Z)(e,Error)?f(e.message):f("uncertain error")},N=(0,t.Z)(function(r){var t,i,o,s;return(0,a.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,4,5,6]),!(""!==r))return[3,2];return y(!0),[4,e({q:r,per_page:100,page:1})];case 1:return o=(0,(t=i.sent()).data.items).reduce(function(e,n){return e.ids.push(n.id),e.idToRepo[n.id]=n,e},(0,F.Z)((0,P.Z)({},X()),{totalCount:t.data.total_count})),d((0,F.Z)((0,P.Z)({},o),{page:1})),null==n||n(o),[3,3];case 2:d(X()),i.label=3;case 3:return[3,6];case 4:return C(i.sent()),d(X()),[3,6];case 5:return b(!1),y(!1),[7];case 6:return[2]}})}),Z=function(e){return N.apply(this,arguments)},z=(T=(0,i.Z)((k=(R=(0,l.useState)(""))[0],_=R[1],(0,l.useEffect)(function(){var e=setTimeout((0,t.Z)(function(){return(0,a.__generator)(this,function(e){switch(e.label){case 0:return[4,Z(k)];case 1:return e.sent(),[2]}})}),500);return function(){clearTimeout(e)}},[k]),[k,_]),2))[0],E=T[1],M=(0,t.Z)(function(){var n,r,t;return(0,a.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),y(!0),[4,e({q:z,per_page:100,page:c.page})];case 1:return r=n.sent().data.items,d(function(e){var n=r.reduce(function(e,n){return e.ids.push(n.id),e.idToRepo[n.id]=n,e},(0,F.Z)((0,P.Z)({},e),{ids:(0,o.Z)(e.ids),idToRepo:(0,P.Z)({},e.idToRepo)}));return n.ids=Array.from(new Set((0,o.Z)(n.ids))),n}),[3,4];case 2:return C(n.sent()),[3,4];case 3:return y(!1),[7];case 4:return[2]}})}),O=function(){return M.apply(this,arguments)},(0,l.useEffect)(function(){f(null),b(!0)},[z]),(0,l.useEffect)(function(){""!==z&&c.page>1&&O()},[c.page]),U=(0,l.useCallback)(function(){null===p&&d(function(e){var n=(0,P.Z)({},e);return n.page++,n})},[j]),W=function(){f(null),-1===c.page?Z(z):O()},{search:z,setSearch:E,repoStatus:c,isFetching:j,error:p,fetchNextPage:U,reFetchPage:W,isKeying:v}),Q=J.search,$=J.setSearch,en=J.repoStatus,ed=J.fetchNextPage,eh=J.isKeying,ep=J.isFetching,ef=J.error,em=J.reFetchPage,eg=ep||eh,ev=0===en.ids.length&&""!==Q&&!eg&&!ef,ex=(0,i.Z)((G=function(e){if(e[0].isIntersecting)try{en.ids.length<en.totalCount&&-1!==en.page&&!eg&&ed()}catch(n){console.error(n)}},H=(0,l.useRef)(),K=(0,l.useRef)(),V=(0,l.useRef)(),K.current=G,Y=(0,l.useCallback)(function(e){null!==e&&(V.current||(V.current=new IntersectionObserver(function(){for(var e,n=arguments.length,r=Array(n),t=0;t<n;t++)r[t]=arguments[t];return null===(e=K.current)||void 0===e?void 0:e.call.apply(e,[K].concat((0,o.Z)(r)))},void 0)),e!==H.current&&(H.current&&V.current.unobserve(H.current),H.current=e,V.current.observe(H.current)))},[]),[H,Y]),2)[1],eb=function(e){$(e.target.value)};return(0,l.useEffect)(function(){$(ei())},[]),(0,s.jsxs)("div",{className:eo,children:[(0,s.jsxs)(u(),{children:[(0,s.jsx)("title",{children:"Browse Github Repos"}),(0,s.jsx)("meta",{name:"description",content:"Browse Github Repos"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("main",{className:ea,children:[(0,s.jsx)("h1",{className:es,children:"Browse Github Repos"}),(0,s.jsxs)("div",{className:el,children:[(0,s.jsx)(g,{label:"Search Repos",placeholder:"Input your keywords",value:Q,onChange:eb}),!eh&&(0,s.jsx)(x,{children:en.ids.map(function(e){var n=en.idToRepo[e],r=I(n.license);return(0,s.jsx)(B,{fullName:n.full_name,htmlUrl:n.html_url,description:n.description,stargazersCount:n.stargazers_count,language:n.language,license:r,pushedAt:n.pushed_at,issue:n.open_issues,topics:n.topics},n.id)})}),(0,s.jsxs)("ul",{className:eu,children:[(0,s.jsx)("li",{className:ec,ref:ex}),(0,s.jsx)(q,{hidden:!eg}),null!==ef&&(0,s.jsx)(ee,{error:ef,onRetryClick:function(){em()}}),ev&&(0,s.jsx)(er,{search:Q})]})]})]})]})}},4654:function(){}},function(e){e.O(0,[475,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);
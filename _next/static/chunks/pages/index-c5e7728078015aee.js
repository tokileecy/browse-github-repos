(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7060)}])},7060:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return ec}});var t=n(828),o=n(5893),i=n(9008),a=n.n(i),s=n(8872),l={searchInputBorderColor:"rgb(194, 194, 194)",topicBgColor:"rgb(221, 244, 255)",topicHoverBgColor:"rgb(9, 105, 218)",topicTextColor:"rgb(9, 105, 218)",topicTextHoverColor:"rgb(255, 255, 255)",skeletonBgColor:"rgba(0, 0, 0, 0.1)",skeletonBgColorLight:"rgba(0, 0, 0, 0.04)",repoBorderColor:"rgb(208, 215, 222)",textBodyLightColor:"rgb(87, 96, 106)",textBodyColor:"rgb(36, 47, 41)",detailMessageColor:"rgb(70, 70, 70)",detailMessageBgColor:"rgb(247, 217, 217)",btnColor:"rgb(36, 41, 47)",btnBgColor:"rgb(246, 248, 250)",btnBorderborder:"rgba(27, 31, 36, 0.15)",btnHoverBgColor:"rgb(243, 244, 246)",btnActiveBgColor:"rgb(238, 239, 242)"},c=(0,s.iv)({display:"inline-flex",width:"100%",alignItems:"center"}),u=(0,s.iv)({marginRight:"8px"}),d=(0,s.iv)({flexGrow:1,height:"2.375rem",border:0,paddingLeft:"8px",paddingRight:"8px",outline:"none",borderBottom:"solid 1px ".concat(l.searchInputBorderColor)});function h(e){var r=e.label,n=e.value,t=e.onChange,i=e.placeholder;return(0,o.jsxs)("label",{className:c,children:[(0,o.jsx)("span",{className:u,children:void 0===r?"":r}),(0,o.jsx)("input",{className:d,placeholder:void 0===i?"":i,value:void 0===n?"":n,onChange:t})]})}var g=n(7294),p=(0,s.iv)({display:"flex",flexDirection:"column",gap:"1.25rem",padding:0,margin:0,width:"100%"}),f=(0,g.forwardRef)(function(e,r){var n=e.children;return(0,o.jsx)("ul",{ref:r,className:p,children:n})}),m=new Intl.RelativeTimeFormat("en",{numeric:"auto",localeMatcher:"best fit"}),v=[{amount:60,name:"seconds"},{amount:60,name:"minutes"},{amount:24,name:"hours"},{amount:7,name:"days"},{amount:4.34524,name:"weeks"},{amount:12,name:"months"},{amount:Number.POSITIVE_INFINITY,name:"years"},],x=function(e){for(var r=(e.getTime()-new Date().getTime())/1e3,n=0;n<=v.length;n++){var t=v[n];if(Math.abs(r)<t.amount)return m.format(Math.round(r),t.name);r/=t.amount}},b=function(e){return e>999?"".concat((e/1e3).toPrecision(3),"k"):"".concat(e)},C=(0,s.iv)({backgroundColor:l.topicBgColor,color:l.topicTextColor,fontWeight:"bold",fontSize:"0.875rem",borderRadius:"2px",textAlign:"center",padding:"0.25rem 0.5rem",whiteSpace:"nowrap",textDecoration:"none","&:hover":{backgroundColor:l.topicHoverBgColor,color:l.topicTextHoverColor}});function w(e){var r=e.children;return(0,o.jsx)("a",{href:"https://github.com/topics/".concat(r),target:"_blank",rel:"noopener noreferrer",className:C,children:r})}var j=(0,s.iv)({padding:"1.25rem 0.75rem",listStyle:"none",borderRadius:"0.25rem",border:"1px ".concat(l.repoBorderColor," solid"),display:"flex",flexDirection:"column",gap:"0.375rem"}),y=(0,s.iv)({color:"#0969da",marginRight:"auto",textDecoration:"none",wordBreak:"break-all",":hover":{textDecoration:"underline"}}),N=(0,s.iv)({marginTop:"0.25rem",fontSize:"0.875rem",wordBreak:"break-word"}),B=(0,s.iv)({display:"inline-flex",flexWrap:"wrap",gap:"0.375rem"}),k=(0,s.iv)({flexGrow:1,flexWrap:"wrap",display:"inline-flex",alignItems:"flex-end",color:l.textBodyLightColor,fontSize:"0.75rem",gap:"8px"});function S(e){var r=e.fullName,n=e.description,t=e.htmlUrl,i=e.stargazersCount,a=e.language,s=void 0===a?null:a,l=e.license,c=void 0===l?"":l,u=e.topics,d=void 0===u?[]:u,h=e.pushedAt,g=e.issue,p=h&&!isNaN(Date.parse(h));return p||console.warn("RepoListItem: prop pushedAt should be a date string."),(0,o.jsxs)("li",{className:j,children:[(0,o.jsx)("a",{href:t,className:y,children:r}),n&&(0,o.jsx)("div",{className:N,children:n}),d.length>0&&(0,o.jsx)("div",{className:B,children:d.map(function(e,r){return(0,o.jsx)(w,{children:e},e+r)})}),(0,o.jsxs)("div",{className:k,children:[void 0!==i&&Number.isInteger(i)&&(0,o.jsxs)("span",{children:["☆",b(i)]}),s&&(0,o.jsx)("span",{children:s}),""!==c&&(0,o.jsx)("span",{children:"".concat(c," license")}),h&&p&&(0,o.jsx)("span",{children:"Updated ".concat(x(new Date(h)))}),void 0!==g&&Number.isInteger(g)&&(0,o.jsx)("span",{children:"".concat(b(g),"  issue").concat(g>1?"s":""," need help")})]})]})}var R=function(e){var r,n=null!==(r=null==e?void 0:e.spdx_id)&&void 0!==r?r:"";return"NOASSERTION"===n&&(n=""),n},_=n(1438),I=n(196),T=n(129),Z=n.n(T),D=new function e(){var r=this;(0,_.Z)(this,e),this.listRepos=function(e){return r.apiInstance.get("/search/repositories",{headers:{"Content-Type":"application/vnd.github+json"},params:e})},this.jwt="",this.apiInstance=I.Z.create({baseURL:"https://api.github.com",timeout:1e4,paramsSerializer:function(e){return Z().stringify(e)}})},z=n(7568),A=n(2670),E=n(1799),L=n(9396),H=n(9815),M=n(655),P=function(){return{ids:[],idToRepo:{},totalCount:0,page:-1}},F=(0,s.iv)({padding:"0 2rem"}),X=(0,s.iv)({minHeight:"100vh",padding:"4rem 0",flex:1,display:"flex",flexDirection:"column",alignItems:"center"}),O=(0,s.iv)({margin:0,marginBottom:"2rem",fontSize:"3.5rem",lineHeight:1.15,textAlign:"center",color:l.textBodyColor}),W=(0,s.iv)({display:"flex",flexDirection:"column",gap:"2rem",width:"100%"}),G=(0,s.iv)({height:0,listStyle:"none"}),U=(0,s.iv)({padding:0,margin:0}),q=n(7297);function K(){var e=(0,q.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  20% {\n    transform: translateX(-100%);\n  }\n\n  80% {\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"]);return K=function(){return e},e}var V=(0,s.F4)(K()),Y=(0,s.iv)({position:"relative",backgroundColor:l.skeletonBgColor,height:"1rem",listStyle:"none",borderRadius:"0.25rem",overflow:"hidden","::after":{content:'""',position:"absolute",backgroundColor:l.skeletonBgColorLight,borderRadius:"0.25rem",animation:"".concat(V,"  2.5s linear infinite"),transform:"translateX(-100%)",width:"100%",height:"100%",zIndex:1}});function J(e){var r=e.width;return(0,o.jsx)("div",{className:(0,s.cx)(Y,(0,s.iv)({width:void 0===r?"100%":r}))})}var Q=(0,s.iv)({listStyle:"none",width:"100%",display:"flex",flexDirection:"column",gap:"1rem",visibility:"visible","&.hidden":{display:"none"}});function $(e){var r=e.hidden;return(0,o.jsxs)("li",{className:(0,s.cx)(Q,{hidden:void 0!==r&&r}),children:[(0,o.jsx)(J,{width:"20%"}),(0,o.jsx)(J,{width:"100%"}),(0,o.jsx)(J,{width:"60%"}),(0,o.jsx)(J,{width:"30%"})]})}var ee=(0,s.iv)({display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center",listStyle:"none"}),er=(0,s.iv)({fontSize:"0.875rem",color:l.textBodyLightColor}),en=(0,s.iv)({marginLeft:"8px",fontSize:"0.875rem",color:l.textBodyLightColor,fontWeight:"bold"}),et=(0,s.iv)({width:"100%",textAlign:"left",padding:"0.75rem 1.75rem",color:l.detailMessageColor,backgroundColor:l.detailMessageBgColor,fontSize:"0.875rem",display:"none","&.show":{display:"initial"}}),eo=(0,s.iv)({width:"100px",height:"35px",borderRadius:"100px",fontWeight:"bold",fontSize:"0.875rem",cursor:"pointer",color:l.btnColor,backgroundColor:l.btnBgColor,border:"1px solid ".concat(l.btnBorderborder),"&:hover":{backgroundColor:l.btnHoverBgColor},"&:active":{backgroundColor:l.btnActiveBgColor}});function ei(e){var r=e.children,n=e.onClick;return(0,o.jsx)("button",{className:eo,onClick:n,children:r})}function ea(e){var r=e.error,n=e.onRetryClick,t=(0,g.useState)(!1),i=t[0],a=t[1];return(0,o.jsxs)("li",{className:ee,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:er,children:"Something went wrong. Try reloading."}),(0,o.jsx)("a",{href:"",className:en,onClick:function(e){e.preventDefault(),a(function(e){return!e})},children:"Show More ▼"})]}),(0,o.jsx)("div",{className:(0,s.cx)(et,{show:i}),children:r}),(0,o.jsx)(ei,{onClick:function(){a(!1),null==n||n()},children:"Retry"})]})}var es=(0,s.iv)({display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center",listStyle:"none",color:l.textBodyLightColor});function el(e){var r=e.search;return(0,o.jsx)("li",{className:es,children:'We couldn’t find any repositories matching "'.concat(r,'"')})}var ec=function(){var e,r,n,i,s,l,c,u,d,p,m,v,x,b,C,w,j,y,N,B,k,_,T,Z,q,K,V,Y,J,Q,ee,er,en,et=(e=D.listRepos,i=(n=(0,g.useState)(P()))[0],s=n[1],c=(l=(0,g.useState)(null))[0],u=l[1],p=(d=(0,g.useState)(!1))[0],m=d[1],x=(v=(0,g.useState)(!1))[0],b=v[1],C=function(e){I.Z.isAxiosError(e)&&e.response?u(e.response.data.message):(0,A.Z)(e,Error)?u(e.message):u("uncertain error")},w=(0,z.Z)(function(n){var t,o,i,a;return(0,M.__generator)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,4,5,6]),!(""!==n))return[3,2];return b(!0),[4,e({q:n,per_page:100,page:1})];case 1:return i=(0,(t=o.sent()).data.items).reduce(function(e,r){return e.ids.push(r.id),e.idToRepo[r.id]=r,e},(0,L.Z)((0,E.Z)({},P()),{totalCount:t.data.total_count})),s((0,L.Z)((0,E.Z)({},i),{page:1})),null==r||r(i),[3,3];case 2:s(P()),o.label=3;case 3:return[3,6];case 4:return C(o.sent()),s(P()),[3,6];case 5:return m(!1),b(!1),[7];case 6:return[2]}})}),j=function(e){return w.apply(this,arguments)},T=(_=(0,t.Z)((B=(N=(0,g.useState)(""))[0],k=N[1],(0,g.useEffect)(function(){var e=setTimeout((0,z.Z)(function(){return(0,M.__generator)(this,function(e){switch(e.label){case 0:return[4,j(B)];case 1:return e.sent(),[2]}})}),500);return function(){clearTimeout(e)}},[B]),[B,k]),2))[0],Z=_[1],q=(0,z.Z)(function(){var r,n,t;return(0,M.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),b(!0),[4,e({q:T,per_page:100,page:i.page})];case 1:return n=r.sent().data.items,s(function(e){var r=n.reduce(function(e,r){return e.ids.push(r.id),e.idToRepo[r.id]=r,e},(0,L.Z)((0,E.Z)({},e),{ids:(0,H.Z)(e.ids),idToRepo:(0,E.Z)({},e.idToRepo)}));return r.ids=Array.from(new Set((0,H.Z)(r.ids))),r}),[3,4];case 2:return C(r.sent()),[3,4];case 3:return b(!1),[7];case 4:return[2]}})}),K=function(){return q.apply(this,arguments)},(0,g.useEffect)(function(){u(null),m(!0)},[T]),(0,g.useEffect)(function(){""!==T&&i.page>1&&K()},[i.page]),V=(0,g.useCallback)(function(){null===c&&s(function(e){var r=(0,E.Z)({},e);return r.page++,r})},[x]),Y=function(){u(null),-1===i.page?j(T):K()},{search:T,setSearch:Z,repoStatus:i,isFetching:x,error:c,fetchNextPage:V,reFetchPage:Y,isKeying:p}),eo=et.search,ei=et.setSearch,es=et.repoStatus,ec=et.fetchNextPage,eu=et.isKeying,ed=et.isFetching,eh=et.error,eg=et.reFetchPage,ep=ed||eu,ef=0===es.ids.length&&""!==eo&&!ep&&!eh,em=(0,t.Z)((J=function(e){if(e[0].isIntersecting)try{es.ids.length<es.totalCount&&-1!==es.page&&!ep&&ec()}catch(r){console.error(r)}},Q=(0,g.useRef)(),ee=(0,g.useRef)(),er=(0,g.useRef)(),ee.current=J,en=(0,g.useCallback)(function(e){null!==e&&(er.current||(er.current=new IntersectionObserver(function(){for(var e,r=arguments.length,n=Array(r),t=0;t<r;t++)n[t]=arguments[t];return null===(e=ee.current)||void 0===e?void 0:e.call.apply(e,[ee].concat((0,H.Z)(n)))},void 0)),e!==Q.current&&(Q.current&&er.current.unobserve(Q.current),Q.current=e,er.current.observe(Q.current)))},[]),[Q,en]),2)[1],ev=function(e){ei(e.target.value)};return(0,o.jsxs)("div",{className:F,children:[(0,o.jsxs)(a(),{children:[(0,o.jsx)("title",{children:"Browse Github Repos"}),(0,o.jsx)("meta",{name:"description",content:"Browse Github Repos"}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsxs)("main",{className:X,children:[(0,o.jsx)("h1",{className:O,children:"Browse Github Repos"}),(0,o.jsxs)("div",{className:W,children:[(0,o.jsx)(h,{label:"Search Repos",placeholder:"Input your keywords",value:eo,onChange:ev}),!eu&&(0,o.jsx)(f,{children:es.ids.map(function(e){var r=es.idToRepo[e],n=R(r.license);return(0,o.jsx)(S,{fullName:r.full_name,htmlUrl:r.html_url,description:r.description,stargazersCount:r.stargazers_count,language:r.language,license:n,pushedAt:r.pushed_at,issue:r.open_issues,topics:r.topics},r.id)})}),(0,o.jsxs)("ul",{className:U,children:[(0,o.jsx)("li",{className:G,ref:em}),(0,o.jsx)($,{hidden:!ep}),null!==eh&&(0,o.jsx)(ea,{error:eh,onRetryClick:function(){eg()}}),ef&&(0,o.jsx)(el,{search:eo})]})]})]})]})}},4654:function(){}},function(e){e.O(0,[475,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);
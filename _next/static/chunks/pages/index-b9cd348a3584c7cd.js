(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4893)}])},4893:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return ed}});var t=n(7568),o=n(828),i=n(9815),a=n(655),s=n(5893),l=n(7294),c=n(9008),u=n.n(c),d=n(8872),h={searchInputBorderColor:"rgb(194, 194, 194)",topicBgColor:"rgb(221, 244, 255)",topicHoverBgColor:"rgb(9, 105, 218)",topicTextColor:"rgb(9, 105, 218)",topicTextHoverColor:"rgb(255, 255, 255)",skeletonBgColor:"rgba(0, 0, 0, 0.1)",skeletonBgColorLight:"rgba(0, 0, 0, 0.04)",repoBorderColor:"rgb(208, 215, 222)",textBodyLightColor:"rgb(87, 96, 106)",textBodyColor:"rgb(36, 47, 41)",detailMessageColor:"rgb(70, 70, 70)",detailMessageBgColor:"rgb(247, 217, 217)",btnColor:"rgb(36, 41, 47)",btnBgColor:"rgb(246, 248, 250)",btnBorderborder:"rgba(27, 31, 36, 0.15)",btnHoverBgColor:"rgb(243, 244, 246)",btnActiveBgColor:"rgb(238, 239, 242)"},g=(0,d.iv)({display:"inline-flex",width:"100%",alignItems:"center"}),p=(0,d.iv)({marginRight:"8px"}),f=(0,d.iv)({flexGrow:1,height:"2.375rem",border:0,paddingLeft:"8px",paddingRight:"8px",outline:"none",borderRadius:0,borderBottom:"solid 1px ".concat(h.searchInputBorderColor)});function m(e){var r=e.label,n=e.value,t=e.onChange,o=e.placeholder;return(0,s.jsxs)("label",{className:g,children:[(0,s.jsx)("span",{className:p,children:void 0===r?"":r}),(0,s.jsx)("input",{className:f,placeholder:void 0===o?"":o,value:void 0===n?"":n,onChange:t})]})}var v=(0,d.iv)({display:"flex",flexDirection:"column",gap:"1.25rem",padding:0,margin:0,width:"100%"}),x=(0,l.forwardRef)(function(e,r){var n=e.children;return(0,s.jsx)("ul",{ref:r,className:v,children:n})}),b=new Intl.RelativeTimeFormat("en",{numeric:"auto",localeMatcher:"best fit"}),C=[{amount:60,name:"seconds"},{amount:60,name:"minutes"},{amount:24,name:"hours"},{amount:7,name:"days"},{amount:4.34524,name:"weeks"},{amount:12,name:"months"},{amount:Number.POSITIVE_INFINITY,name:"years"},],w=function(e){for(var r=(e.getTime()-new Date().getTime())/1e3,n=0;n<=C.length;n++){var t=C[n];if(Math.abs(r)<t.amount)return b.format(Math.round(r),t.name);r/=t.amount}},y=function(e){return e>999?"".concat((e/1e3).toPrecision(3),"k"):"".concat(e)},j=(0,d.iv)({backgroundColor:h.topicBgColor,color:h.topicTextColor,fontWeight:"bold",fontSize:"0.875rem",borderRadius:"2px",textAlign:"center",padding:"0.25rem 0.5rem",whiteSpace:"nowrap",textDecoration:"none","&:hover":{backgroundColor:h.topicHoverBgColor,color:h.topicTextHoverColor}});function N(e){var r=e.children;return(0,s.jsx)("a",{href:"https://github.com/topics/".concat(r),target:"_blank",rel:"noopener noreferrer",className:j,children:r})}var B=(0,d.iv)({padding:"1.25rem 0.75rem",listStyle:"none",borderRadius:"0.25rem",border:"1px ".concat(h.repoBorderColor," solid"),display:"flex",flexDirection:"column",gap:"0.375rem"}),S=(0,d.iv)({color:"#0969da",marginRight:"auto",textDecoration:"none",wordBreak:"break-all",":hover":{textDecoration:"underline"}}),R=(0,d.iv)({marginTop:"0.25rem",fontSize:"0.875rem",wordBreak:"break-word"}),k=(0,d.iv)({display:"inline-flex",flexWrap:"wrap",gap:"0.375rem"}),_=(0,d.iv)({flexGrow:1,flexWrap:"wrap",display:"inline-flex",alignItems:"flex-end",color:h.textBodyLightColor,fontSize:"0.75rem",gap:"8px"});function I(e){var r=e.fullName,n=e.description,t=e.htmlUrl,o=e.stargazersCount,i=e.language,a=void 0===i?null:i,l=e.license,c=void 0===l?"":l,u=e.topics,d=void 0===u?[]:u,h=e.pushedAt,g=e.issue,p=h&&!isNaN(Date.parse(h));return p||console.warn("RepoListItem: prop pushedAt should be a date string."),(0,s.jsxs)("li",{className:B,children:[(0,s.jsx)("a",{href:t,className:S,children:r}),n&&(0,s.jsx)("div",{className:R,children:n}),d.length>0&&(0,s.jsx)("div",{className:k,children:d.map(function(e,r){return(0,s.jsx)(N,{children:e},e+r)})}),(0,s.jsxs)("div",{className:_,children:[void 0!==o&&Number.isInteger(o)&&(0,s.jsxs)("span",{children:["☆",y(o)]}),a&&(0,s.jsx)("span",{children:a}),""!==c&&(0,s.jsx)("span",{children:"".concat(c," license")}),h&&p&&(0,s.jsx)("span",{children:"Updated ".concat(w(new Date(h)))}),void 0!==g&&Number.isInteger(g)&&(0,s.jsx)("span",{children:"".concat(y(g),"  issue").concat(g>1?"s":""," need help")})]})]})}var T=function(e){var r,n=null!==(r=null==e?void 0:e.spdx_id)&&void 0!==r?r:"";return"NOASSERTION"===n&&(n=""),n},Z=n(1438),D=n(196),z=n(129),A=n.n(z),E=new function e(){var r=this;(0,Z.Z)(this,e),this.listRepos=function(e){return r.apiInstance.get("/search/repositories",{headers:{"Content-Type":"application/vnd.github+json"},params:e})},this.jwt="",this.apiInstance=D.Z.create({baseURL:"https://api.github.com",timeout:1e4,paramsSerializer:function(e){return A().stringify(e)}})},L=n(2670),P=n(1799),H=n(9396),M=function(){return{ids:[],idToRepo:{},totalCount:0,page:-1}},F=n(7297);function X(){var e=(0,F.Z)(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  20% {\n    transform: translateX(-100%);\n  }\n\n  80% {\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"]);return X=function(){return e},e}var O=(0,d.F4)(X()),U=(0,d.iv)({position:"relative",backgroundColor:h.skeletonBgColor,height:"1rem",listStyle:"none",borderRadius:"0.25rem",overflow:"hidden","::after":{content:'""',position:"absolute",backgroundColor:h.skeletonBgColorLight,borderRadius:"0.25rem",animation:"".concat(O,"  2.5s linear infinite"),transform:"translateX(-100%)",width:"100%",height:"100%",zIndex:1}});function W(e){var r=e.width;return(0,s.jsx)("div",{className:(0,d.cx)(U,(0,d.iv)({width:void 0===r?"100%":r}))})}var G=(0,d.iv)({listStyle:"none",width:"100%",display:"flex",flexDirection:"column",gap:"1rem",visibility:"visible","&.hidden":{display:"none"}});function q(e){var r=e.hidden;return(0,s.jsxs)("li",{className:(0,d.cx)(G,{hidden:void 0!==r&&r}),children:[(0,s.jsx)(W,{width:"20%"}),(0,s.jsx)(W,{width:"100%"}),(0,s.jsx)(W,{width:"60%"}),(0,s.jsx)(W,{width:"30%"})]})}var K=(0,d.iv)({display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center",listStyle:"none"}),V=(0,d.iv)({fontSize:"0.875rem",color:h.textBodyLightColor}),Y=(0,d.iv)({marginLeft:"8px",fontSize:"0.875rem",color:h.textBodyLightColor,fontWeight:"bold"}),J=(0,d.iv)({width:"100%",textAlign:"left",padding:"0.75rem 1.75rem",color:h.detailMessageColor,backgroundColor:h.detailMessageBgColor,fontSize:"0.875rem",display:"none","&.show":{display:"initial"}}),Q=(0,d.iv)({width:"100px",height:"35px",borderRadius:"100px",fontWeight:"bold",fontSize:"0.875rem",cursor:"pointer",color:h.btnColor,backgroundColor:h.btnBgColor,border:"1px solid ".concat(h.btnBorderborder),"&:hover":{backgroundColor:h.btnHoverBgColor},"&:active":{backgroundColor:h.btnActiveBgColor}});function $(e){var r=e.children,n=e.onClick;return(0,s.jsx)("button",{className:Q,onClick:n,children:r})}function ee(e){var r=e.error,n=e.onRetryClick,t=(0,l.useState)(!1),o=t[0],i=t[1];return(0,s.jsxs)("li",{className:K,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:V,children:"Something went wrong. Try reloading."}),(0,s.jsx)("a",{href:"",className:Y,onClick:function(e){e.preventDefault(),i(function(e){return!e})},children:"Show More ▼"})]}),(0,s.jsx)("div",{className:(0,d.cx)(J,{show:o}),children:r}),(0,s.jsx)($,{onClick:function(){i(!1),null==n||n()},children:"Retry"})]})}var er=(0,d.iv)({display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center",listStyle:"none",color:h.textBodyLightColor});function en(e){var r=e.search;return(0,s.jsx)("li",{className:er,children:'We couldn’t find any repositories matching "'.concat(r,'"')})}var et=function(e){var r=new URL(window.location.toString());r.searchParams.set("q",e),window.history.pushState({},"",r)},eo=function(){var e=new URLSearchParams(window.location.search).get("q");return null!=e?e:""},ei=(0,d.iv)({padding:"0 2rem"}),ea=(0,d.iv)({minHeight:"100vh",padding:"4rem 0",flex:1,display:"flex",flexDirection:"column",alignItems:"center"}),es=(0,d.iv)({margin:0,marginBottom:"2rem",fontSize:"3.5rem",lineHeight:1.15,textAlign:"center",color:h.textBodyColor}),el=(0,d.iv)({display:"flex",flexDirection:"column",gap:"2rem",width:"100%"}),ec=(0,d.iv)({height:0,listStyle:"none"}),eu=(0,d.iv)({padding:0,margin:0}),ed=function(){var e,r,n,c,d,h,g,p,f,v,b,C,w,y,j,N,B,S,R,k,_,Z,z,A,F,X,O,U,W,G,K,V,Y,J=(e=(0,t.Z)(function(){var e,r,n,t,o=arguments;return(0,a.__generator)(this,function(a){for(r=Array(e=o.length),n=0;n<e;n++)r[n]=o[n];return et(Q),[2,(t=E).listRepos.apply(t,(0,i.Z)(r))]})}),c=(n=(0,l.useState)(M()))[0],d=n[1],g=(h=(0,l.useState)(null))[0],p=h[1],v=(f=(0,l.useState)(!1))[0],b=f[1],w=(C=(0,l.useState)(!1))[0],y=C[1],j=function(e){D.Z.isAxiosError(e)&&e.response?p(e.response.data.message):(0,L.Z)(e,Error)?p(e.message):p("uncertain error")},N=(0,t.Z)(function(n){var t,o,i,s;return(0,a.__generator)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,4,5,6]),!(""!==n))return[3,2];return y(!0),[4,e({q:n,per_page:100,page:1})];case 1:return i=(0,(t=o.sent()).data.items).reduce(function(e,r){return e.ids.push(r.id),e.idToRepo[r.id]=r,e},(0,H.Z)((0,P.Z)({},M()),{totalCount:t.data.total_count})),d((0,H.Z)((0,P.Z)({},i),{page:1})),null==r||r(i),[3,3];case 2:d(M()),o.label=3;case 3:return[3,6];case 4:return j(o.sent()),d(M()),[3,6];case 5:return b(!1),y(!1),[7];case 6:return[2]}})}),B=function(e){return N.apply(this,arguments)},z=(Z=(0,o.Z)((k=(R=(0,l.useState)(""))[0],_=R[1],(0,l.useEffect)(function(){var e=setTimeout((0,t.Z)(function(){return(0,a.__generator)(this,function(e){switch(e.label){case 0:return[4,B(k)];case 1:return e.sent(),[2]}})}),500);return function(){clearTimeout(e)}},[k]),[k,_]),2))[0],A=Z[1],F=(0,t.Z)(function(){var r,n,t;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),y(!0),[4,e({q:z,per_page:100,page:c.page})];case 1:return n=r.sent().data.items,d(function(e){var r=n.reduce(function(e,r){return e.ids.push(r.id),e.idToRepo[r.id]=r,e},(0,H.Z)((0,P.Z)({},e),{ids:(0,i.Z)(e.ids),idToRepo:(0,P.Z)({},e.idToRepo)}));return r.ids=Array.from(new Set((0,i.Z)(r.ids))),r}),[3,4];case 2:return j(r.sent()),[3,4];case 3:return y(!1),[7];case 4:return[2]}})}),X=function(){return F.apply(this,arguments)},(0,l.useEffect)(function(){p(null),b(!0)},[z]),(0,l.useEffect)(function(){""!==z&&c.page>1&&X()},[c.page]),O=(0,l.useCallback)(function(){null===g&&d(function(e){var r=(0,P.Z)({},e);return r.page++,r})},[w]),U=function(){p(null),-1===c.page?B(z):X()},{search:z,setSearch:A,repoStatus:c,isFetching:w,error:g,fetchNextPage:O,reFetchPage:U,isKeying:v}),Q=J.search,$=J.setSearch,er=J.repoStatus,ed=J.fetchNextPage,eh=J.isKeying,eg=J.isFetching,ep=J.error,ef=J.reFetchPage,em=eg||eh,ev=0===er.ids.length&&""!==Q&&!em&&!ep,ex=(0,o.Z)((W=function(e){if(e[0].isIntersecting)try{er.ids.length<er.totalCount&&-1!==er.page&&!em&&ed()}catch(r){console.error(r)}},G=(0,l.useRef)(),K=(0,l.useRef)(),V=(0,l.useRef)(),K.current=W,Y=(0,l.useCallback)(function(e){null!==e&&(V.current||(V.current=new IntersectionObserver(function(){for(var e,r=arguments.length,n=Array(r),t=0;t<r;t++)n[t]=arguments[t];return null===(e=K.current)||void 0===e?void 0:e.call.apply(e,[K].concat((0,i.Z)(n)))},void 0)),e!==G.current&&(G.current&&V.current.unobserve(G.current),G.current=e,V.current.observe(G.current)))},[]),[G,Y]),2)[1],eb=function(e){$(e.target.value)};return(0,l.useEffect)(function(){$(eo())},[]),(0,s.jsxs)("div",{className:ei,children:[(0,s.jsxs)(u(),{children:[(0,s.jsx)("title",{children:"Browse Github Repos"}),(0,s.jsx)("meta",{name:"description",content:"Browse Github Repos"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("main",{className:ea,children:[(0,s.jsx)("h1",{className:es,children:"Browse Github Repos"}),(0,s.jsxs)("div",{className:el,children:[(0,s.jsx)(m,{label:"Search Repos",placeholder:"Input your keywords",value:Q,onChange:eb}),!eh&&(0,s.jsx)(x,{children:er.ids.map(function(e){var r=er.idToRepo[e],n=T(r.license);return(0,s.jsx)(I,{fullName:r.full_name,htmlUrl:r.html_url,description:r.description,stargazersCount:r.stargazers_count,language:r.language,license:n,pushedAt:r.pushed_at,issue:r.open_issues,topics:r.topics},r.id)})}),(0,s.jsxs)("ul",{className:eu,children:[(0,s.jsx)("li",{className:ec,ref:ex}),(0,s.jsx)(q,{hidden:!em}),null!==ep&&(0,s.jsx)(ee,{error:ep,onRetryClick:function(){ef()}}),ev&&(0,s.jsx)(en,{search:Q})]})]})]})]})}},4654:function(){}},function(e){e.O(0,[475,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);